<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    let name_Customer = prompt("Nhập tên của bạn vào đây");
    do {
        var cmnd_Customer = prompt("Nhập số CMND của bạn vào đây");
        if (!isNaN(cmnd_Customer) && cmnd_Customer.length == 9) {
            check = true;
        } else {
            alert("Hãy nhập đúng định dạng");
            check = false;
        }
    } while (check === false);
    do {
        var date_Of_Birth_Customer = prompt("Nhập ngày tháng năm sinh(dd/mm/yyy) của bạn vào đây");
        if (date_Of_Birth_Customer.charAt(2) === '/' && date_Of_Birth_Customer.charAt(5) === '/') {
            let day = date_Of_Birth_Customer.substring(0, 2);
            let month = date_Of_Birth_Customer.substring(3, 5);
            let year = date_Of_Birth_Customer.substring(6, 10);
            if (!isNaN(day) && !isNaN(month) && !isNaN(year)) {
                day = Number.parseFloat(day);
                month = Number.parseFloat(month);
                year = Number.parseFloat(year);
                if (Number.isInteger(day) && Number.isInteger(month) && Number.isInteger(year)) {
                    if (day < 32 && month < 13 && year > 1950) {
                        check = true;
                    } else {
                        alert("Nhập chưa đúng định dạng");
                        check = false;
                    }
                } else {
                    alert("Nhập chưa đúng định dạng");
                    check = false;

                }
            } else {
                alert("Nhập chưa đúng định dạng");
                check = false;
            }
        } else {
            alert("Nhập chưa đúng định dạng");
            check = false;
        }
    } while (check === false);
    do {
        var email_Customer = prompt("Nhập email của bạn vào đây");
        let atposition = email_Customer.indexOf("@");
        let dotposition = email_Customer.lastIndexOf(".");
        if (atposition < 1 || dotposition < (atposition + 2)
            || (dotposition + 2) >= email_Customer.length) {
            alert("Hãy nhập đúng định dạng của email:name@gmail.com!");
            check = false;
        } else {
            check = true;
        }
    } while (check === false);
    let address_Customer = prompt("Nhập địa chỉ của bạn vào đây");
    let type_Customer = prompt("Nhập loại khách hàng của bạn(Diamond, Platinum, Gold, Silver, Member)");
    let discount = prompt("Nhập mức độ giảm giá");
    do {
        var amount_Customer = parseInt(prompt("Nhập số lượng của bạn"));
        var rent_Days = parseInt(prompt("Nhập số ngày thuê của bạn"));
        if (isNaN(amount_Customer) || isNaN(rent_Days)) {
            alert("hãy nhập chính xác");
            check = false;
        } else
            check = true;
    } while (check === false);
    let type_Service = prompt("Nhập loại dịch vụ cần thuê(Villa, House, Room)");
    let type_Room = prompt("Nhập loại phòng cần thuê(Vip, Business,  Normal)");

    switch (address_Customer.toLowerCase()) {
        case "đà nẵng":
            switch (type_Customer.toLowerCase()) {
                case "diamond":
                    if (rent_Days <= 4) {
                        salePay = 20 + 15 + 10;
                    } else if (rent_Days <= 7) {
                        salePay = 20 + 15 + 20;
                    } else {
                        salePay = 20 + 15 + 30;
                    }
                    break;
                case "platium":
                    if (rent_Days <= 4) {
                        salePay = 20 + 10 + 10;
                    } else if (rent_Days <= 7) {
                        salePay = 20 + 10 + 20;
                    } else {
                        salePay = 20 + 10 + 30;
                    }
                    break;
                case "gold":
                    if (rent_Days <= 4) {
                        salePay = 20 + 5 + 10;
                    } else if (rent_Days <= 7) {
                        salePay = 20 + 5 + 20;
                    } else {
                        salePay = 20 + 55 + 30;
                    }
                    break;
                case "silver":
                    if (rent_Days <= 4) {
                        salePay = 20 + 2 + 10;
                    } else if (rent_Days <= 7) {
                        salePay = 20 + 2 + 20;
                    } else {
                        salePay = 20 + 2 + 30;
                    }
                    break;
                case "member":
                    if (rent_Days <= 4) {
                        salePay = 20 + 10;
                    } else if (rent_Days <= 7) {
                        salePay = 20 + 20;
                    } else {
                        salePay = 20 + 30;
                    }
                    break;
                default:
                    salePay = "Sai loại khách hàng: " + type_Customer;
                    break;
            }
            break;
        case "huế":
            switch (type_Customer.toLowerCase()) {
                case "diamond":
                    if (rent_Days <= 4) {
                        salePay = 10 + 15 + 10;
                    } else if (rent_Days <= 7) {
                        salePay = 10 + 15 + 20;
                    } else {
                        salePay = 10 + 15 + 30;
                    }
                    break;
                case "platium":
                    if (rent_Days <= 4) {
                        salePay = 10 + 10 + 10;
                    } else if (rent_Days <= 7) {
                        salePay = 10 + 10 + 20;
                    } else {
                        salePay = 10 + 10 + 30;
                    }
                    break;
                case "gold":
                    if (rent_Days <= 4) {
                        salePay = 10 + 5 + 10;
                    } else if (rent_Days <= 7) {
                        salePay = 10 + 5 + 20;
                    } else {
                        salePay = 10 + 55 + 30;
                    }
                    break;
                case "silver":
                    if (rent_Days <= 4) {
                        salePay = 10 + 2 + 10;
                    } else if (rent_Days <= 7) {
                        salePay = 10 + 2 + 20;
                    } else {
                        salePay = 10 + 2 + 30;
                    }
                    break;
                case "member":
                    if (rent_Days <= 4) {
                        salePay = 10 + 10;
                    } else if (rent_Days <= 7) {
                        salePay = 10 + 20;
                    } else {
                        salePay = 10 + 30;
                    }
                    break;
                default:
                    salePay = "Sai loại khách hàng: " + type_Customer;
                    break;
            }
            break;
        case "quảng nam":
            switch (type_Customer.toLowerCase()) {
                case "diamond":
                    if (rent_Days <= 4) {
                        salePay = 5 + 15 + 10;
                    } else if (rent_Days <= 7) {
                        salePay = 5 + 15 + 20;
                    } else {
                        salePay = 5 + 15 + 30;
                    }
                    break;
                case "platium":
                    if (rent_Days <= 4) {
                        salePay = 5 + 10 + 10;
                    } else if (rent_Days <= 7) {
                        salePay = 5 + 10 + 20;
                    } else {
                        salePay = 5 + 10 + 30;
                    }
                    break;
                case "gold":
                    if (rent_Days <= 4) {
                        salePay = 5 + 5 + 10;
                    } else if (rent_Days <= 7) {
                        salePay = 5 + 5 + 20;
                    } else {
                        salePay = 5 + 55 + 30;
                    }
                    break;
                case "silver":
                    if (rent_Days <= 4) {
                        salePay = 5 + 2 + 10;
                    } else if (rent_Days <= 7) {
                        salePay = 5 + 2 + 20;
                    } else {
                        salePay = 5 + 2 + 30;
                    }
                    break;
                case "member":
                    if (rent_Days <= 4) {
                        salePay = 5 + 10;
                    } else if (rent_Days <= 7) {
                        salePay = 5 + 20;
                    } else {
                        salePay = 5 + 30;
                    }
                    break;
                default:
                    salePay = "Sai loại khách hàng: " + type_Customer;
                    break;
            }
            break;
        default:
            salePay = address_Customer + " không phải là địa chỉ được giảm giá";
            break;
    }
    switch (type_Service.toLowerCase()) {
        case "villa":
            total_Pay = 500 * rent_Days - salePay;
            if(isNaN(total_Pay)){
                total_Pay="Không phải địa chỉ cần giảm giá"
            }
            break;
        case "house":
            total_Pay = 300 * rent_Days - salePay;
            if(isNaN(total_Pay)){
                total_Pay="Không phải địa chỉ cần giảm giá"
            }
            break;
        case "room":
            total_Pay = 100 * rent_Days - salePay;
            if(isNaN(total_Pay)){
                total_Pay="Không phải địa chỉ cần giảm giá"
            }
            break;
        default:
            total_Pay = "Chưa nhập đúng dữ liệu";
    }
    let choose = parseInt(prompt("1.Show Information Customer." + "\n"
        + "2.Edit Information Customer.." + "\n"
        + "3.Show the amount to be paid after discount" + "\n"));
    switch (choose) {
        case 1:
            alert("Name: " + name_Customer + "\n"
                + "CMND: " + parseInt(cmnd_Customer) + "\n"
                + "Ngày sinh: " + date_Of_Birth_Customer + "\n"
                + "Email: " + email_Customer + "\n"
                + "Địa chỉ: " + address_Customer + "\n"
                + "Loại khách hàng: " + type_Customer + "\n"
                + "Giảm giá: " + discount + "\n"
                + "Số lượng: " + amount_Customer + "\n"
                + "Số ngày thuê: " + rent_Days + "\n"
                + "Loại dịch vụ thuê: " + type_Service + "\n"
                + "Loại phòng thuê: " + type_Room + "\n"
                + "Tổng tiền phải trả là: " + total_Pay + "\n");
            break;
        case 2:
            let edit = parseInt(prompt("1.Sửa tên của bạn" + "\n"
                + "2.Sửa ngày sinh của bạn" + "\n"
                + "3.Sửa số CMND của bạn " + "\n"
                + "4.Sửa email của bạn " + "\n"
                + "5.Sửa địa chỉ của bạn " + "\n"
                + "6.Sửa loại khách hàng của bạn " + "\n"
                + "7.Sửa mức giảm giá của bạn" + "\n"
                + "8.Sửa số lượng của bạn " + "\n"
                + "9.Sửa số ngày thuê của bạn " + "\n"
                + "10.Sửa loại dịch vụ của bạn " + "\n"
                + "11.Sửa loại phòng thuê của bạn " + "\n"));
            switch (edit) {
                case 1:
                    name_Customer = prompt("Nhập tên cần sửa vào đây");
                    break;
                case 2:
                    date_Of_Birth_Customer = prompt("Nhập ngày sinh cần sửa vào đây");
                    break;
                case 3:
                    cmnd_Customer = prompt("Nhập cmnd cần sửa vào đây");
                    break;
                case 4:
                    email_Customer = prompt("Nhập email cần sửa vào đây");
                    break;
                case 5:
                    cmnd_Customer = prompt("Nhập địa chỉ cần sửa vào đây");
                    break;
                case 6:
                    type_Customer = prompt("Nhập loại khách hàng cần sửa vào đây");
                    break;
                case 7:
                    discount = prompt("Nhập mức giảm giá cần sửa vào đây");
                    break;
                case 8:
                    amount_Customer = prompt("Nhập số lượng cần sửa vào đây");
                    break;
                case 9:
                    type_Service = prompt("Nhập loại dịch vụ cần sửa vào đây");
                    break;
                case 10:
                    type_Room = prompt("Nhập loại phòng cần sửa vào đây");
                    break;
                default:
                    alert("Failed");
                    break;
            }
            show_Info();
            break;
        case 3:
            alert("Số tiền phải trả: " + total_Pay + "\n"
                + "Số tiền được giảm giá: " + salePay);
            break;
        default:
            alert("Chưa chọn đúng loại có trong danh mục");
            break;
    }

    function show_Info() {
        alert("Name: " + name_Customer + "\n"
            + "CMND: " + cmnd_Customer + "\n"
            + "Ngày sinh: " + date_Of_Birth_Customer + "\n"
            + "Email: " + email_Customer + "\n"
            + "Địa chỉ: " + address_Customer + "\n"
            + "Loại khách hàng: " + type_Customer + "\n"
            + "Giảm giá: " + discount + "\n"
            + "Số lượng: " + amount_Customer + "\n"
            + "Số ngày thuê: " + rent_Days + "\n"
            + "Loại dịch vụ thuê: " + type_Service + "\n"
            + "Loại phòng thuê: " + type_Room + "\n"
            + "Tổng tiền phải trả là: " + total_Pay + "\n");
    }
</script>
</body>
</html>