<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Yêu cầu 1</title>
</head>
<body>
<script>
    let check=true;
    let name_Customer = prompt("Nhập tên của bạn vào đây");
    do {
        var cmnd_Customer = prompt("Nhập số CMND của bạn vào đây");
        if (!isNaN(cmnd_Customer) && cmnd_Customer.length == 9) {
            check = true;
        } else {
            alert("Hãy nhập đúng định dạng");
            check = false;
        }
    } while (!check);
    do {
        var regex_date = /^(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.](19|20)\d\d$/;
        var date_Of_Birth_Customer = prompt("Nhập ngày tháng năm sinh(dd/mm/yyy) của nhân viên vào đây");
        if (regex_date.test(date_Of_Birth_Customer)) {
            check = true;
        } else {
            alert("Nhập sai kiểu dữ liệu!");
            check = false;
        }
    } while (!check);
    do {
        var email_Customer = prompt("Nhập email của bạn vào đây");
        let atposition = email_Customer.indexOf("@");
        let dotposition = email_Customer.lastIndexOf(".");
        if (atposition < 1 || dotposition < (atposition + 2)
            || (dotposition + 2) >= email_Customer.length) {
            alert("Hãy nhập đúng định dạng của email:name@gmail.com!");
            check = false;
        } else {
            check = true;
        }
    } while (!check);
    let address_Customer = prompt("Nhập địa chỉ của bạn vào đây");
    let type_Customer = prompt("Nhập loại khách hàng của bạn(Diamond, Platinum, Gold, Silver, Member)");
    let discount = prompt("Nhập mức độ giảm giá");
    do {
        var amount_Customer = parseInt(prompt("Nhập số lượng của bạn"));
        var rent_Days = parseInt(prompt("Nhập số ngày thuê của bạn"));
        if (isNaN(amount_Customer) || isNaN(rent_Days)) {
            alert("hãy nhập chính xác");
            check = false;
        } else
            check = true;
    } while (!check);
    let type_Service = prompt("Nhập loại dịch vụ cần thuê(Villa, House, Room)");
    let type_Room = prompt("Nhập loại phòng cần thuê(Vip, Business,  Normal)");
    switch (type_Service.toLowerCase()) {
        case "villa":
            total_Pay = 500 * rent_Days * (1 - (discount / 100));
            break;
        case "house":
            total_Pay = 300 * rent_Days * (1 - (discount / 100));
            break;
        case "room":
            total_Pay = 100 * rent_Days * (1 - (discount / 100));
            break;
        default:
            total_Pay = "Chưa nhập đúng dữ liệu";
    }

    alert("Name: " + name_Customer + "\n"
         + "CMND: " + (cmnd_Customer) + "\n"
         + "Ngày sinh: " + date_Of_Birth_Customer + "\n"
         + "Email: " + email_Customer + "\n"
         + "Địa chỉ: " + address_Customer + "\n"
         + "Loại khách hàng: " + type_Customer + "\n"
        + "Giảm giá: " + discount + "\n"
        + "Số lượng: " + amount_Customer + "\n"
        + "Số ngày thuê: " + rent_Days + "\n"
        + "Loại dịch vụ thuê: " + type_Service + "\n"
        + "Loại phòng thuê: " + type_Room + "\n"
         + "Tổng tiền phải trả là: " + total_Pay + "\n");
</script>
</body>
</html>